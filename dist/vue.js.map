{"version":3,"file":"vue.js","sources":["../src/observe.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["class Observer {\r\n  constructor(data) {\r\n    this.walk(data);\r\n  }\r\n  walk(data) {\r\n    const keys = Object.keys(data);\r\n    for (let i = 0; i < keys.length; i++) {\r\n      defineReactive(data, keys[i]);\r\n    }\r\n  }\r\n}\r\nfunction defineReactive(obj, key) {\r\n  console.log(\"defineReactive\");\r\n  Object.defineProperty(obj, key, {\r\n    get() {\r\n      console.log(\"getnewVal\");\r\n    },\r\n    set(newVal) {\r\n      console.log(newVal, \"newVal\");\r\n    },\r\n  });\r\n}\r\nexport function observe(data) {\r\n  console.log(data, \"observe\");\r\n  if (typeof data !== \"object\") return;\r\n  return new Observer(data);\r\n}\r\n","import { observe } from \"./observe\";\r\n\r\nexport function initState(vm) {\r\n  const opts = vm.$options;\r\n  if (opts.data) {\r\n    initData(vm);\r\n  }\r\n}\r\nfunction initData(vm) {\r\n  let data = vm.$options.data;\r\n  data = typeof data === \"function\" ? data.call(vm) : data;\r\n  observe(data);\r\n}\r\n","import { initState } from \"./state\";\r\n\r\nexport function initMixin(Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    console.log(\"options\", options);\r\n    const vm = this;\r\n    vm.$options = options;\r\n    initState(vm);\r\n  };\r\n}\r\n","import { initMixin } from \"./init\";\r\n\r\nfunction Vue(options) {\r\n  this._init(options);\r\n}\r\n\r\ninitMixin(Vue);\r\nexport default Vue;\r\n"],"names":["Observer","data","walk","keys","Object","i","length","defineReactive","obj","key","console","log","defineProperty","get","set","newVal","observe","initState","vm","opts","$options","initData","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAMA;EACJ,oBAAYC,IAAZ,EAAkB;EAAA;;EAChB,SAAKC,IAAL,CAAUD,IAAV;EACD;;;;aACD,cAAKA,IAAL,EAAW;EACT,UAAME,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,IAAZ,CAAb;;EACA,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;EACpCE,QAAAA,cAAc,CAACN,IAAD,EAAOE,IAAI,CAACE,CAAD,CAAX,CAAd;EACD;EACF;;;;;;EAEH,SAASE,cAAT,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;EAChCC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;EACAP,EAAAA,MAAM,CAACQ,cAAP,CAAsBJ,GAAtB,EAA2BC,GAA3B,EAAgC;EAC9BI,IAAAA,GAD8B,iBACxB;EACJH,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;EACD,KAH6B;EAI9BG,IAAAA,GAJ8B,eAI1BC,MAJ0B,EAIlB;EACVL,MAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ,EAAoB,QAApB;EACD;EAN6B,GAAhC;EAQD;;EACM,SAASC,OAAT,CAAiBf,IAAjB,EAAuB;EAC5BS,EAAAA,OAAO,CAACC,GAAR,CAAYV,IAAZ,EAAkB,SAAlB;EACA,MAAI,QAAOA,IAAP,MAAgB,QAApB,EAA8B;EAC9B,SAAO,IAAID,QAAJ,CAAaC,IAAb,CAAP;EACD;;ECxBM,SAASgB,SAAT,CAAmBC,EAAnB,EAAuB;EAC5B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB;;EACA,MAAID,IAAI,CAAClB,IAAT,EAAe;EACboB,IAAAA,QAAQ,CAACH,EAAD,CAAR;EACD;EACF;;EACD,SAASG,QAAT,CAAkBH,EAAlB,EAAsB;EACpB,MAAIjB,IAAI,GAAGiB,EAAE,CAACE,QAAH,CAAYnB,IAAvB;EACAA,EAAAA,IAAI,GAAG,OAAOA,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACqB,IAAL,CAAUJ,EAAV,CAA7B,GAA6CjB,IAApD;EACAe,EAAAA,OAAO,CAACf,IAAD,CAAP;EACD;;ECVM,SAASsB,SAAT,CAAmBC,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACvCjB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBgB,OAAvB;EACA,QAAMT,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcO,OAAd;EACAV,IAAAA,SAAS,CAACC,EAAD,CAAT;EACD,GALD;EAMD;;ECPD,SAASM,GAAT,CAAaG,OAAb,EAAsB;EACpB,OAAKD,KAAL,CAAWC,OAAX;EACD;;EAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}